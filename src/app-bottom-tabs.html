<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-selector/iron-selectable.html">

<dom-module id="app-bottom-tabs">
  <template>
    <style>
      :host {
        @apply --no-select;
        display: block;
        height: var(--app-bottom-tabs-height);
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;
      }

      :host::before {
        position: absolute;
        right: 0px;
        top: -10px;
        left: 0px;
        width: 100%;
        height: 10px;
        content: "";
        pointer-events: none;
        opacity: 1;
        box-shadow: inset 0px -5px 6px -3px rgba(0, 0, 0, 0.2);
      }

      #tab-container {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --layout-around-justified;
        height: 100%;
        margin-top: 3px;
      }
    </style>

    <div id="tab-container">
      <slot></slot>
    </div>

  </template>
  <script>

    class AppBottomTabs extends Polymer.mixinBehaviors(
      [Polymer.IronSelectableBehavior], Polymer.Element) {

      static get is() { return 'app-bottom-tabs'; }

      static get properties() {
        return {
          selected: {
            type: String,
            reflectToAttribute: true
          }
        }
      }

      ready() {
        super.ready();
        this.addEventListener('iron-activate', (e) => this._handleTabSelection(e));        
      }

      _handleTabSelection(e) {
        e.preventDefault();
        e.detail.item.clickLink();
      }
    }

    customElements.define(AppBottomTabs.is, AppBottomTabs);
  </script>
</dom-module>