<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="app-bottom-tab">
  <template>
    <style>
      [hidden] {
        display: none !important;
      }

      :host {
        display: block;
        position: relative;
        height: 100%;
        width: var(--app-bottom-tab-width, 60px);
        transform: scale3d(1, 1, 1);
        transition: transform 0.1s;
        will-change: transform;
      }

      :host(.touch-active) {
        transform: scale3d(0.95, 0.95, 1);
        transition: transform 0.1s;
      }
    </style>

    <slot></slot>

  </template>
  <script>

    class AppBottomTab extends Polymer.GestureEventListeners(Polymer.Element) {

      static get is() { return 'app-bottom-tab'; }

      ready() {
        super.ready();
        Polymer.Gestures.addListener(this, 'down', this._handleDown);
        Polymer.Gestures.addListener(this, 'up', this._handleUp);
      }

      _handleDown() {
        this.classList.add('touch-active');
      }

      _handleUp() {
        this.classList.remove('touch-active');
      }
      
    }

    customElements.define(AppBottomTab.is, AppBottomTab);
  </script>
</dom-module>